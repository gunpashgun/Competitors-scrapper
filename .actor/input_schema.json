{
    "title": "Facebook Ads Competitor Scraper",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "competitorUrls": {
            "title": "Competitor URLs",
            "type": "array",
            "description": "List of competitors with their Facebook Ads Library URLs (recommended)",
            "editor": "json",
            "default": [],
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "url": {
                        "type": "string"
                    },
                    "facebookPageUrl": {
                        "type": "string"
                    }
                }
            },
            "example": [
                {
                    "name": "Competitor Name",
                    "url": "https://www.facebook.com/ads/library/?active_status=active&ad_type=all&country=ID&q=CompetitorName&search_type=page",
                    "facebookPageUrl": "https://www.facebook.com/competitorpage"
                }
            ]
        },
        "searchTerms": {
            "title": "Search Terms (fallback)",
            "type": "string",
            "description": "Search terms for Facebook Ads Library if not using competitorUrls (one per line)",
            "editor": "textarea",
            "example": "kursus coding anak\\nbelajar programming anak"
        },
        "country": {
            "title": "Country",
            "type": "string",
            "description": "Two-letter country code",
            "editor": "textfield",
            "default": "ID"
        },
        "maxPages": {
            "title": "Max Pages",
            "type": "integer",
            "description": "Maximum number of pages to scrape",
            "editor": "number",
            "default": 10,
            "minimum": 1
        },
        "minActiveDays": {
            "title": "Min Active Days",
            "type": "integer",
            "description": "Minimum number of days an ad must be active",
            "editor": "number",
            "default": 7,
            "minimum": 1
        },
        "useProxy": {
            "title": "Use Proxy",
            "type": "boolean",
            "description": "Use residential proxy for scraping",
            "editor": "checkbox",
            "default": false
        },
        "saveMediaAssets": {
            "title": "Save Media Assets",
            "type": "boolean",
            "description": "Save image and video URLs",
            "editor": "checkbox",
            "default": true
        },
        "highResolutionOnly": {
            "title": "High Resolution Only",
            "type": "boolean",
            "description": "Only save high-resolution images",
            "editor": "checkbox",
            "default": true
        },
        "enableEngagementMatching": {
            "title": "Enable Engagement Matching",
            "type": "boolean",
            "description": "Match ads with Facebook page posts to get engagement metrics (slower)",
            "editor": "checkbox",
            "default": false
        },
        "enableGoogleSheets": {
            "title": "Enable Google Sheets Export",
            "type": "boolean",
            "description": "Export results to Google Sheets",
            "editor": "checkbox",
            "default": false
        },
        "googleSheetsSpreadsheetId": {
            "title": "Google Sheets Spreadsheet ID",
            "type": "string",
            "description": "ID of the Google Spreadsheet (from URL)",
            "editor": "textfield"
        },
        "googleSheetsName": {
            "title": "Google Sheets Name",
            "type": "string",
            "description": "Name prefix for sheets (each competitor gets own sheet)",
            "editor": "textfield",
            "default": "Competitor Ads"
        },
        "googleServiceAccountKey": {
            "title": "Google Service Account Key",
            "type": "string",
            "description": "Google Service Account JSON key (for Sheets API)",
            "editor": "textarea",
            "isSecret": true
        },
        "enableSupabase": {
            "title": "Enable Supabase Storage",
            "type": "boolean",
            "description": "Save active creatives (10-20 days) to Supabase database",
            "editor": "checkbox",
            "default": false
        },
        "supabaseUrl": {
            "title": "Supabase URL",
            "type": "string",
            "description": "Your Supabase project URL",
            "editor": "textfield",
            "example": "https://your-project.supabase.co"
        },
        "supabaseKey": {
            "title": "Supabase Anon Key",
            "type": "string",
            "description": "Your Supabase anon/public key",
            "editor": "textfield",
            "isSecret": true
        }
    }
}
